schemaVersion: 2.2.0
metadata:
  name: hello-devfile-demo
  version: 1.0.0
  displayName: Hello World Devfile Demo
  description: Eine kurze Demonstration f√ºr Devfile-Kommandos Settings und Autostart.
components:
  - name: udi-container
    container:
      image:  registry.redhat.io/devspaces/udi-rhel9@sha256:cca6cbf5adcb5ce83392795573fe258d468568bddc3ad3618297e9e6234cfb79
      command: ["/bin/sh"]
      args: ["-c", "while true; do sleep 1000; done"]
      memoryLimit: 2Gi
      mountSources: false
commands:
  - id: hello-1
    exec:
      label: "Hello World 1 (Autostart)"
      commandLine: echo 'Hello World 1 vom postStart aus dem Devfile!'
      component: udi-container
      group:
        kind: run
        isDefault: true
  - id: hello-2
    exec:
      label: "1. Hello World 2 (manuell)"
      commandLine: echo 'Hello World 2 als Task aus dem Devfile!'
      component: udi-container
      group:
        kind: run
  - id: start-http-server
    exec:
      label: "2. Start Python HTTP Server"
      commandLine: python3 -m http.server 5000 --bind 0.0.0.0
      component: udi-container
      group:
        kind: run
        isDefault: true
events:
  postStart:
    - hello-1
